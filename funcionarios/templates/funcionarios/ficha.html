{% extends 'base.html' %}
{% load static %}

{% block title %}Ficha do Funcionário{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center">Ficha do Funcionário</h2>

    <div class="card p-4 mt-3">
        <div class="text-center">
            {% if funcionario.foto %}
                <img src="{{ funcionario.foto.url }}" alt="Foto de {{ funcionario.nome_completo }}" class="img-thumbnail" width="150">
            {% else %}
                <img src="{% static 'images/user-placeholder.png' %}" alt="Sem Foto" class="img-thumbnail" width="150">
            {% endif %}
        </div>

        <h4 class="mt-3">Dados Pessoais</h4>
        <p><strong>Nome:</strong> {{ funcionario.nome_completo }}</p>
        <p><strong>CPF:</strong> {{ funcionario.cpf }}</p>
        <p><strong>RG:</strong> {{ funcionario.rg|default:"-" }}</p>
        <p><strong>Sexo:</strong> 
            {% if funcionario.sexo == 'M' %} Masculino
            {% elif funcionario.sexo == 'F' %} Feminino
            {% else %} Outro
            {% endif %}
        </p>
        <p><strong>Data de Nascimento:</strong> {{ funcionario.data_nascimento|date:"d/m/Y" }}</p>
        <p><strong>Idade:</strong> {{ funcionario.idade }} anos</p>
        <p><strong>CNH:</strong> {{ funcionario.cnh|default:"-" }}</p>
        <p><strong>Validade CNH:</strong> {{ funcionario.validade_cnh|date:"d/m/Y"|default:"-" }}</p>
        <p><strong>Contato Pessoal:</strong> {{ funcionario.contato_pessoal }}</p>
        <p><strong>Contato Emergência:</strong> {{ funcionario.contato_emergencia }}</p>
        <p><strong>Email:</strong> {{ funcionario.email }}</p>

        <h4 class="mt-3">Dados Profissionais</h4>
        <p><strong>ID Funcionário:</strong> {{ funcionario.id_funcionario }}</p>
        <p><strong>Função:</strong> {{ funcionario.funcao }}</p>
        <p><strong>Departamento:</strong> {{ funcionario.departamento }}</p>
        <p><strong>Status:</strong> 
            <span class="badge {% if funcionario.status == 'Contratado' %}bg-success{% else %}bg-danger{% endif %}">
                {{ funcionario.status }}
            </span>
        </p>
        <p><strong>Data de Admissão:</strong> {{ funcionario.data_admissao|date:"d/m/Y" }}</p>
        <p><strong>Data de Mobilização:</strong> {{ funcionario.data_mobilizacao|date:"d/m/Y"|default:"-" }}</p>
        <p><strong>Data de Desligamento:</strong> {{ funcionario.data_desligamento|date:"d/m/Y"|default:"-" }}</p>
        <p><strong>Data de Desmobilização:</strong> {{ funcionario.data_desmobilizacao|date:"d/m/Y"|default:"-" }}</p>
        <p><strong>Crachá Vale:</strong> {{ funcionario.cracha_vale|default:"-" }}</p>

        <a href="{% url 'listar_funcionarios' %}" class="btn btn-primary mt-3">Voltar</a>
    </div>
</div>
{% endblock %}